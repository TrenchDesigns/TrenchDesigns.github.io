<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chernarus Map</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
  body, html { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; background:#111; }
  #map { width: 100vw; height: 100vh; }
  .legend {
    position: absolute;
    bottom: 20px;
    left: 20px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    padding: 10px;
    border-radius: 6px;
    font-size: 14px;
  }
  .legend div { margin-bottom: 4px; }
  .legend span { display:inline-block; width:12px; height:12px; margin-right:6px; vertical-align:middle; }
</style>
</head>
<body>
<div id="map"></div>
<div class="legend">
  <div><span style="background:yellow"></span> City/Town/Village</div>
  <div><span style="background:red"></span> Military</div>
  <div><span style="background:blue"></span> Airfield</div>
  <div><span style="background:green"></span> POI</div>
  <div><span style="background:orange"></span> Industrial</div>
  <div><span style="background:purple"></span> Island</div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // Map Setup
  const mapWidth = 1500;   // Your actual map size
  const mapHeight = 1356;
  const map = L.map('map', {
    crs: L.CRS.Simple,
    minZoom: -2,
    maxZoom: 2
  });

  const bounds = [[0,0],[mapHeight,mapWidth]];
  L.imageOverlay('CHERNOMAP.webp', bounds).addTo(map);
  map.fitBounds(bounds);

  // Locations Array (scaled to your map size)
  const locations = [
    { English_Name: 'Chernogorsk', Coordinates: '6675, 2674', Type: 'City' },
    { English_Name: 'Elektrozavodsk', Coordinates: '10309, 2175', Type: 'City' },
    { English_Name: 'Berezino', Coordinates: '12604, 9791', Type: 'City' },
    { English_Name: 'Tisy Military Base', Coordinates: '1558, 13935', Type: 'Military' },
    { English_Name: 'Northwest Airfield (NWAF)', Coordinates: '4455, 10376', Type: 'Airfield' }
    // Add all other locations here
  ];

  // Scale coordinates from original (16000x16000) to 1500x1356
  const scaleX = mapWidth / 16000;
  const scaleY = mapHeight / 16000;

  // Color by type
  const typeColors = {
    'City':'yellow', 'Town':'yellow', 'Village':'yellow',
    'Military':'red', 'Minor Military':'red',
    'Airfield':'blue',
    'POI':'green', 'Minor POI':'green',
    'Industrial':'orange',
    'Island':'purple'
  };

  // Add markers
  locations.forEach(loc => {
    const [origX, origY] = loc.Coordinates.split(',').map(Number);
    const x = origX * scaleX;
    const y = origY * scaleY;
    const color = typeColors[loc.Type] || 'white';
    const marker = L.circleMarker([y, x], {
      radius: 5,       // smaller markers
      color: color,
      fillOpacity: 0.9
    }).addTo(map);
    marker.bindTooltip(`<b>${loc.English_Name}</b><br>${loc.Type}`);
  });
</script>
</body>
</html>

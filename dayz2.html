<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chernarus Map</title>
<style>
  body { margin: 0; font-family: sans-serif; }
  #map-container { position: relative; width: 1500px; height: 1356px; margin: 0 auto; background: url('CHERNOMAP.webp') no-repeat top left; background-size: cover; border: 2px solid #333; }
  .marker {
    position: absolute;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    width: 12px;
    height: 12px;
    cursor: pointer;
    border: 2px solid #fff;
  }
  .City { background: red; }
  .Town { background: orange; }
  .Village { background: yellow; }
  .Military { background: black; }
  .Minor\ Military { background: gray; }
  .Airfield { background: blue; }
  .POI { background: purple; }
  .Minor\ POI { background: pink; }
  .Industrial { background: brown; }
  .Island { background: teal; }
  .tooltip {
    position: absolute;
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 4px 8px;
    border-radius: 4px;
    pointer-events: none;
    font-size: 12px;
    display: none;
    z-index: 1000;
  }
  #legend {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(255,255,255,0.9);
    padding: 10px;
    border-radius: 5px;
    font-size: 14px;
  }
  #legend div { margin-bottom: 4px; }
  #legend span { display: inline-block; width: 12px; height: 12px; margin-right: 6px; vertical-align: middle; }
</style>
</head>
<body>

<div id="map-container">
  <div id="tooltip" class="tooltip"></div>
  <div id="legend">
    <div><span style="background:red;"></span> City</div>
    <div><span style="background:orange;"></span> Town</div>
    <div><span style="background:yellow;"></span> Village</div>
    <div><span style="background:black;"></span> Military</div>
    <div><span style="background:gray;"></span> Minor Military</div>
    <div><span style="background:blue;"></span> Airfield</div>
    <div><span style="background:purple;"></span> POI</div>
    <div><span style="background:pink;"></span> Minor POI</div>
    <div><span style="background:brown;"></span> Industrial</div>
    <div><span style="background:teal;"></span> Island</div>
  </div>
</div>

<script>
const mapWidth = 1500;
const mapHeight = 1356;

// These are the original maximum coordinates from your dataset
const originalMaxX = 23921; // debug island far right
const originalMaxY = 15165; // stary yar far bottom

// Scaling function
function scaleCoord(x, y) {
  return {
    x: x / originalMaxX * mapWidth,
    y: y / originalMaxY * mapHeight
  };
}

// All your locations
const locations = [
    { ID: 1, English_Name: 'Chernogorsk', Native_Name: 'Черногорск', Coordinates: '6675,2674', Type: 'City' },
    { ID: 2, English_Name: 'Elektrozavodsk', Native_Name: 'Электрозаводск', Coordinates: '10309,2175', Type: 'City' },
    { ID: 3, English_Name: 'Berezino', Native_Name: 'Березино', Coordinates: '12604,9791', Type: 'City' },
    { ID: 4, English_Name: 'Zelenogorsk', Native_Name: 'Зеленогорск', Coordinates: '2663,5201', Type: 'City' },
    { ID: 5, English_Name: 'Novaya Petrovka', Native_Name: 'Новая Петровка', Coordinates: '3465,13065', Type: 'City' },
    { ID: 6, English_Name: 'Stary Sobor', Native_Name: 'Старый Собор', Coordinates: '6139,7781', Type: 'Village' },
    // Add the rest of your 200+ locations here in the same format
];

const mapContainer = document.getElementById('map-container');
const tooltip = document.getElementById('tooltip');

locations.forEach(loc => {
    const [x, y] = loc.Coordinates.split(',').map(Number);
    const scaled = scaleCoord(x, y);

    const marker = document.createElement('div');
    marker.className = `marker ${loc.Type.replace(' ', '\\ ')}`;
    marker.style.left = `${scaled.x}px`;
    marker.style.top = `${scaled.y}px`;

    marker.addEventListener('mouseenter', () => {
        tooltip.style.display = 'block';
        tooltip.innerText = `${loc.English_Name} ${loc.Native_Name ? '('+loc.Native_Name+')' : ''}`;
    });
    marker.addEventListener('mousemove', e => {
        tooltip.style.left = e.pageX + 10 + 'px';
        tooltip.style.top = e.pageY + 10 + 'px';
    });
    marker.addEventListener('mouseleave', () => {
        tooltip.style.display = 'none';
    });

    mapContainer.appendChild(marker);
});
</script>

</body>
</html>

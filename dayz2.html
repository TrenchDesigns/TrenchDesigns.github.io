<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CHERNOMAP Click-to-Generate</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #111;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        min-height: 100vh;
    }

    #map-container {
        position: relative;
        width: 1500px;
        height: 1356px;
        background: url('CHERNOMAP.webp') no-repeat top left;
        border: 2px solid #fff;
        margin-top: 20px;
    }

    .marker {
        position: absolute;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        cursor: pointer;
        background: red;
    }

    #panel {
        margin-top: 20px;
        padding: 10px;
        background: #222;
        width: 90%;
        max-width: 800px;
        border: 2px solid #fff;
    }

    #panel button {
        margin: 4px;
    }

    #log p {
        margin: 2px 0;
        font-family: monospace;
    }
</style>
</head>
<body>

<h1>CHERNOMAP Coordinate Generator</h1>

<div id="map-container"></div>

<div id="panel">
    <button id="startBtn">Start Clicking Cities</button>
    <p id="currentCity">Current City: -</p>
    <div id="log"></div>
</div>

<script>
// List of cities you want to click on
const cities = [
    'Chernogorsk',
    'Elektrozavodsk',
    'Berezino',
    'Zelenogorsk',
    'Novaya Petrovka',
    'Stary Sobor',
    'Novy Sobor',
    'Kabanino',
    'Vybor',
    'Tisy Military Base',
    'Northwest Airfield (NWAF)',
    'Balota Airfield'
    // Add more cities here...
];

let currentIndex = 0;
let listening = false;

const mapContainer = document.getElementById('map-container');
const logDiv = document.getElementById('log');
const currentCityEl = document.getElementById('currentCity');
const startBtn = document.getElementById('startBtn');

// Start clicking
startBtn.addEventListener('click', () => {
    if (currentIndex >= cities.length) {
        alert("All cities have been clicked!");
        return;
    }
    listening = true;
    currentCityEl.textContent = `Current City: ${cities[currentIndex]}`;
    alert(`Click on the map where "${cities[currentIndex]}" is located.`);
});

// Map click listener
mapContainer.addEventListener('click', e => {
    if (!listening) return;

    const rect = mapContainer.getBoundingClientRect();
    const x = Math.round(e.clientX - rect.left);
    const y = Math.round(e.clientY - rect.top);

    // Add marker
    const marker = document.createElement('div');
    marker.classList.add('marker');
    marker.style.left = x + 'px';
    marker.style.top = y + 'px';
    mapContainer.appendChild(marker);

    // Log coordinates
    const coordStr = `{ English_Name: '${cities[currentIndex]}', Coordinates: '${x}, ${y}' }`;
    const p = document.createElement('p');
    p.textContent = coordStr;
    logDiv.appendChild(p);

    // Move to next city
    currentIndex++;
    listening = false;
    if (currentIndex < cities.length) {
        alert(`Next city: "${cities[currentIndex]}". Click "Start Clicking Cities" to continue.`);
        currentCityEl.textContent = `Current City: -`;
    } else {
        alert("All cities have been clicked! Copy coordinates from the log.");
        currentCityEl.textContent = "Current City: -";
    }
});
</script>

</body>
</html>
